<!doctype html>
<html lang="uz">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vocab Cards</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="container header">
      <div class="brand">
        <div class="logo">VC</div>
        <div>
          <h1>Vocab Cards</h1>
          <p class="muted" id="userLine">Sign in qiling.</p>
        </div>
      </div>

      <div class="header-actions">
        <!-- A-variant: alohida auth sahifaga o'tadi -->
        <a id="signInBtn" class="btn btn-ghost" href="./auth.html">Sign in</a>
        <a id="signUpBtn" class="btn btn-ghost" href="./auth.html">Sign up</a>

        <!-- Login bo'lganda ko'rinadi -->
        <button id="signOutBtn" class="btn btn-ghost hidden" type="button">Sign out</button>

        <button id="resetBtn" class="btn btn-ghost" title="Custom local cache ni tozalash" type="button">
          Reset
        </button>
      </div>
    </header>

    <main class="container grid">
      <!-- LEFT: add + controls -->
      <section class="panel">
        <h2>Lug‘at qo‘shish</h2>

        <form id="addForm" class="form">
          <label class="label">
            So‘z (English)
            <input id="wordInput" class="input" type="text" placeholder="" required />
          </label>

          <label class="label">
            Ma’nosi (UZ/RU — o‘zingiz yozasiz)
            <input id="meaningInput" class="input" type="text" placeholder="" required />
          </label>

          <div class="row">
            <label class="label">
              Bosqich (tag)
              <select id="levelSelect" class="select">
                <option value="beginner">Beginner</option>
                <option value="intermediate">Intermediate</option>
                <option value="advanced">Advanced</option>
                <option value="ielts">IELTS Reading</option>
                <option value="custom">Custom</option>
              </select>
            </label>

            <label class="label">
              Example (ixtiyoriy)
              <input id="exampleInput" class="input" type="text" placeholder="" />
            </label>
          </div>

          <button id="addBtn" class="btn btn-primary" type="submit">
            Add Card
          </button>

          <p id="status" class="status muted" aria-live="polite"></p>
        </form>

        <div class="divider"></div>

        <h2>Deck tanlash</h2>

        <div class="row">
          <label class="label">
            Deck
            <select id="deckSelect" class="select">
              <option value="beginner">Beginner (tayyor)</option>
              <option value="intermediate">Intermediate (tayyor)</option>
              <option value="advanced">Advanced (tayyor)</option>
              <option value="ielts">IELTS Reading (tayyor)</option>
              <option value="custom">Custom (sizniki)</option>
              <option value="all">All (hammasi)</option>
            </select>
          </label>

          <label class="label">
            Mode
            <select id="modeSelect" class="select">
              <option value="front">Avval so‘z</option>
              <option value="back">Avval ma’no</option>
              <option value="mixed">Aralash</option>
            </select>
          </label>
        </div>

        <div class="row">
          <button id="shuffleBtn" class="btn btn-secondary" type="button">Shuffle</button>
          <button id="toggleAnswerBtn" class="btn btn-ghost" type="button">Show/Hide Answer</button>
        </div>

        <p class="muted hint">Card ustiga bosing: orqasi ochiladi/yopiladi.</p>

        <div class="divider"></div>

        <h2>Statistika</h2>
        <div class="stats">
          <div class="stat">
            <div class="stat-title muted">Jami kartalar</div>
            <div id="totalCount" class="stat-value">0</div>
          </div>
          <div class="stat">
            <div class="stat-title muted">Deck bo‘yicha</div>
            <div id="deckCount" class="stat-value">0</div>
          </div>
        </div>
      </section>

      <!-- RIGHT: card + custom list -->
      <section class="panel">
        <div class="card-header">
          <h2>Flashcard</h2>
          <div class="pill" id="cardTag">—</div>
        </div>

        <div class="muted small">
          Card ustiga bosing: flip bo‘ladi.
        </div>

        <div class="card clickable" id="card" role="button" tabindex="0" aria-label="Flip card">
          <div class="card-face" id="cardFront">
            <div class="card-label muted">Front</div>
            <div class="card-text" id="frontText">Deck tanlang yoki lug‘at qo‘shing.</div>
          </div>

          <div class="card-face card-back hidden" id="cardBack">
            <div class="card-label muted">Back</div>
            <div class="card-text" id="backText">—</div>
            <div class="card-example" id="exampleText"></div>
          </div>
        </div>

        <div class="row row-center">
          <button id="prevBtn" class="btn btn-secondary" type="button">Prev</button>
          <button id="nextBtn" class="btn btn-secondary" type="button">Next</button>
        </div>

        <div class="divider"></div>

        <h2>Custom ro‘yxat</h2>
        <div class="list-actions row">
          <button id="exportBtn" class="btn btn-ghost" type="button">Export JSON</button>
          <button id="importBtn" class="btn btn-ghost" type="button">Import JSON</button>
          <input id="importFile" type="file" accept="application/json" class="hidden" />
        </div>

        <div id="customList" class="list muted">Sign in qiling — custom kartalar shu yerda ko‘rinadi.</div>
      </section>
    </main>

    <footer class="container footer muted"></footer>

    <!-- Supabase JS (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="./app.js"></script>
  </body>
</html>
